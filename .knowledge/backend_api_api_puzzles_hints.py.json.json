{"is_source_file": true, "format": "Python", "description": "This file defines utility functions and protocols related to providing hints in a word-guessing game. It includes mechanisms for revealing positions of the target word, enforcing hint usage limits, and minimal interface protocols for session and word objects.", "external_files": [], "external_methods": ["random.randrange"], "published": ["reveal_position", "reveal_first_letter"], "classes": [{"name": "_WordLike", "description": "Protocol defining minimal attributes (length, text) required from a Word object for hint computations."}, {"name": "_SessionLike", "description": "Protocol defining minimal attributes and methods (is_completed, hints_used, target_word, save()) required from a Session object for hint computations."}], "methods": [{"name": "None _ensure_can_use_hint(session: _SessionLike)", "description": "Checks if a hint can be used in the current session, raising ValueError if restrictions are violated.", "scope": "", "scopeKind": ""}, {"name": "None _increment_hints(session: _SessionLike)", "description": "Increments the hints_used counter on the session, respecting the maximum hints per session, and attempts to save the session state.", "scope": "", "scopeKind": ""}, {"name": "int _pick_unrevealed_position(session: _SessionLike)", "description": "Randomly selects an index within the target word's length to reveal.", "scope": "", "scopeKind": ""}, {"name": "Tuple[int,str] _first_letter_position_and_value(session: _SessionLike)", "description": "Returns the position (0) and the letter of the first character of the target word.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] reveal_position(session: _SessionLike)", "description": "Public function that reveals a random unrevealed position in the target word if hints are available, updating hints used count.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] reveal_first_letter(session: _SessionLike)", "description": "Public function that reveals the first letter of the target word if hints are available, updating hints used count.", "scope": "", "scopeKind": ""}, {"name": "None save(self, *args, **kwargs)", "scope": "_SessionLike", "scopeKind": "class", "description": "unavailable"}], "calls": ["random.randrange", "_ensure_can_use_hint", "_pick_unrevealed_position", "_first_letter_position_and_value", "_increment_hints"], "search-terms": ["hints", "reveal_position", "reveal_first_letter", "session", "word", "hint limit", "game session", "word length", "guessing game", "word hints"], "state": 2, "file_id": 29, "knowledge_revision": 78, "git_revision": "56629f63153c3fd182013648a1dc93ff43697af7", "revision_history": [{"71": ""}, {"78": "56629f63153c3fd182013648a1dc93ff43697af7"}], "ctags": [{"_type": "tag", "name": "MAX_HINTS_PER_SESSION", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/puzzles/hints.py", "pattern": "/^MAX_HINTS_PER_SESSION = 2$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_SessionLike", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/puzzles/hints.py", "pattern": "/^class _SessionLike(Protocol):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_WordLike", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/puzzles/hints.py", "pattern": "/^class _WordLike(Protocol):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_ensure_can_use_hint", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/puzzles/hints.py", "pattern": "/^def _ensure_can_use_hint(session: _SessionLike) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(session: _SessionLike)"}, {"_type": "tag", "name": "_first_letter_position_and_value", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/puzzles/hints.py", "pattern": "/^def _first_letter_position_and_value(session: _SessionLike) -> Tuple[int, str]:$/", "language": "Python", "typeref": "typename:Tuple[int,str]", "kind": "function", "signature": "(session: _SessionLike)"}, {"_type": "tag", "name": "_increment_hints", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/puzzles/hints.py", "pattern": "/^def _increment_hints(session: _SessionLike) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(session: _SessionLike)"}, {"_type": "tag", "name": "_pick_unrevealed_position", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/puzzles/hints.py", "pattern": "/^def _pick_unrevealed_position(session: _SessionLike) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(session: _SessionLike)"}, {"_type": "tag", "name": "reveal_first_letter", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/puzzles/hints.py", "pattern": "/^def reveal_first_letter(session: _SessionLike) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(session: _SessionLike)"}, {"_type": "tag", "name": "reveal_position", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/puzzles/hints.py", "pattern": "/^def reveal_position(session: _SessionLike) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(session: _SessionLike)"}, {"_type": "tag", "name": "save", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/puzzles/hints.py", "pattern": "/^    def save(self, *args, **kwargs) -> None: ...$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, *args, **kwargs)", "scope": "_SessionLike", "scopeKind": "class"}], "hash": "48affc00715707063a1608aa529e4cc8", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/api/puzzles/hints.py", "fields": [{"name": "MAX_HINTS_PER_SESSION = 2", "scope": "", "scopeKind": "", "description": "unavailable"}]}