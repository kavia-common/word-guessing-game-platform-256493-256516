{"is_source_file": true, "format": "Python", "description": "This file implements the backend API views for a word-guessing game platform, including endpoints for starting a game, submitting guesses, requesting hints, retrieving session details, and leaderboards. It also provides utility functions, diagnostic validation, and listing of game modes and puzzle types.", "external_files": ["django.db", "django.utils", "rest_framework.decorators", "rest_framework.response", "rest_framework", "drf_yasg.utils", "drf_yasg.openapi", ".models", ".serializers", "api.puzzles"], "external_methods": ["get_engine", "reveal_position", "reveal_first_letter"], "published": ["health", "start_game", "submit_guess", "request_hint", "get_session_detail", "get_leaderboard", "get_modes", "get_puzzle_types", "diagnostics_validate"], "classes": [], "methods": [{"name": "Dict[str,Any] _normalize_keys(payload: Dict[str, Any])", "description": "Converts commonly camelCase payload keys to snake_case for serializer compatibility.", "scope": "", "scopeKind": ""}, {"name": "str _session_status(session: GameSession)", "description": "Determines session status string based on completion and win flags.", "scope": "", "scopeKind": ""}, {"name": "int _attempts_used(session: GameSession)", "description": "Returns count of guesses used in a session.", "scope": "", "scopeKind": ""}, {"name": "int _compute_base_score(session: GameSession)", "description": "Calculates the base score before bonuses and penalties based on attempts and session state.", "scope": "", "scopeKind": ""}, {"name": "int _compute_time_bonus(session: GameSession)", "description": "Calculates time-based bonus points for timed sessions.", "scope": "", "scopeKind": ""}, {"name": "int _compute_hint_penalty(session: GameSession)", "description": "Calculates score penalty based on hints used.", "scope": "", "scopeKind": ""}, {"name": "Tuple[int,int,int,int] _compute_score_breakdown(session: GameSession)", "description": "Returns the overall score breakdown including base, hint penalty, and time bonus.", "scope": "", "scopeKind": ""}, {"name": "diagnostics_validate(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_leaderboard(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_modes(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_puzzle_types(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_session_detail(request, session_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "health(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "request_hint(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "start_game(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "submit_guess(request)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["get_engine", "reveal_position", "reveal_first_letter", "timezone.now", "Word.objects.filter", "GameSession.objects.create", "session.mark_completed", "session.refresh_from_db", "session.guesses.count", "Guess.objects.create", "session.target_word.text"], "search-terms": ["word-guessing game", "session management", "guess evaluation", "hints", "leaderboard", "timed mode", "serializers", "API views", "game sessions", "scoring"], "state": 2, "file_id": 11, "knowledge_revision": 86, "git_revision": "2a177c9f947b63905bc23398c06fb9f41f7a5778", "revision_history": [{"32": "4fcfc9098d6937103236b01e8b1dea8a8897c693"}, {"51": "4fcfc9098d6937103236b01e8b1dea8a8897c693"}, {"57": "e4743a647b3c2a57d53be9cd0eb36e87db883002"}, {"73": "e4743a647b3c2a57d53be9cd0eb36e87db883002"}, {"77": "2a177c9f947b63905bc23398c06fb9f41f7a5778"}, {"84": "2a177c9f947b63905bc23398c06fb9f41f7a5778"}, {"85": "2a177c9f947b63905bc23398c06fb9f41f7a5778"}, {"86": "2a177c9f947b63905bc23398c06fb9f41f7a5778"}], "ctags": [{"_type": "tag", "name": "_attempts_used", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def _attempts_used(session: GameSession) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(session: GameSession)"}, {"_type": "tag", "name": "_compute_base_score", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def _compute_base_score(session: GameSession) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(session: GameSession)"}, {"_type": "tag", "name": "_compute_hint_penalty", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def _compute_hint_penalty(session: GameSession) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(session: GameSession)"}, {"_type": "tag", "name": "_compute_score_breakdown", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def _compute_score_breakdown(session: GameSession) -> Tuple[int, int, int, int]:$/", "language": "Python", "typeref": "typename:Tuple[int,int,int,int]", "kind": "function", "signature": "(session: GameSession)"}, {"_type": "tag", "name": "_compute_time_bonus", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def _compute_time_bonus(session: GameSession) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(session: GameSession)"}, {"_type": "tag", "name": "_normalize_keys", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def _normalize_keys(payload: Dict[str, Any]) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(payload: Dict[str, Any])"}, {"_type": "tag", "name": "_session_status", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def _session_status(session: GameSession) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(session: GameSession)"}, {"_type": "tag", "name": "diagnostics_validate", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def diagnostics_validate(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "get_leaderboard", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def get_leaderboard(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "get_modes", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def get_modes(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "get_puzzle_types", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def get_puzzle_types(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "get_session_detail", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def get_session_detail(request, session_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, session_id: int)"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "request_hint", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def request_hint(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "start_game", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def start_game(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "submit_guess", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def submit_guess(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}], "hash": "15977edb19a79ad98766a3302de84d4b", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/api/views.py"}