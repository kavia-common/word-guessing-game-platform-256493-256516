{"is_source_file": true, "format": "Python", "description": "This file contains Django REST Framework API view functions for a word-guessing game platform, including endpoints for starting games, submitting guesses, requesting hints, retrieving session details, and leaderboards. It also includes utility functions for scoring, session status, and payload normalization.", "external_files": ["django.db", "django.utils", "rest_framework.decorators", "rest_framework.response", "rest_framework", "drf_yasg.utils", "drf_yasg", ".models", ".serializers", "api.puzzles"], "external_methods": ["transaction.atomic", "timezone.now", "api.puzzles.get_engine", "api.puzzles.reveal_position", "api.puzzles.reveal_first_letter", "rest_framework.response.Response", "rest_framework.status", "rest_framework.permissions.AllowAny", "drf_yasg.utils.swagger_auto_schema"], "published": ["health", "start_game", "submit_guess", "request_hint", "get_session_detail", "get_leaderboard", "get_modes", "get_puzzle_types", "diagnostics_validate"], "classes": [], "methods": [{"name": "_normalize_keys", "description": "Converts camelCase keys from frontend payloads to snake_case for serializers."}, {"name": "_session_status", "description": "Maps GameSession database flags to a public status string ('WON', 'LOST', 'IN_PROGRESS')."}, {"name": "_attempts_used", "description": "Returns the number of guesses made in a session."}, {"name": "_compute_base_score", "description": "Calculates the base score before adjustments based on attempts and session completion."}, {"name": "_compute_time_bonus", "description": "Calculates a time bonus for timed mode based on remaining seconds."}, {"name": "_compute_hint_penalty", "description": "Calculates penalty points based on hints used."}, {"name": "_compute_score_breakdown", "description": "Returns a tuple of total score, base score, hint penalty, and time bonus."}], "calls": ["django.db.transaction.atomic", "django.utils.timezone.now", "api.puzzles.get_engine", "api.puzzles.reveal_position", "api.puzzles.reveal_first_letter", "rest_framework.response.Response", "rest_framework.status", "Word.objects.filter", "Word.objects.create", "GameSession.objects.create", "GameSession.objects.select_related", "GameSession.objects.get", "Guess.objects.create", "GameSession.mark_completed", "GameSession.refresh_from_db", "timezone.now", "GameSession.objects.filter", "GameSession.guesses.count", "GameSession.guesses.order_by", "Guess.objects.create"], "search-terms": ["Django REST API", "word guessing game", "session management", "guess evaluation", "hint system", "leaderboard", "score calculation", "payload normalization", "puzzle engine"], "state": 2, "file_id": 11, "knowledge_revision": 114, "git_revision": "42a80d64baeb6a95bb4b9fa33633d369573dcb92", "revision_history": [{"32": "4fcfc9098d6937103236b01e8b1dea8a8897c693"}, {"51": "4fcfc9098d6937103236b01e8b1dea8a8897c693"}, {"57": "e4743a647b3c2a57d53be9cd0eb36e87db883002"}, {"73": "e4743a647b3c2a57d53be9cd0eb36e87db883002"}, {"77": "2a177c9f947b63905bc23398c06fb9f41f7a5778"}, {"84": "2a177c9f947b63905bc23398c06fb9f41f7a5778"}, {"85": "2a177c9f947b63905bc23398c06fb9f41f7a5778"}, {"86": "2a177c9f947b63905bc23398c06fb9f41f7a5778"}, {"114": "42a80d64baeb6a95bb4b9fa33633d369573dcb92"}], "ctags": [], "filename": "backend_api/api/views.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/word-guessing-game-platform-256493-256516.git:kavia-main"}