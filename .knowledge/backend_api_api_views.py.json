{"is_source_file": true, "format": "Python", "description": "This file contains Django REST Framework API view functions for a word-guessing game. It includes endpoints for health checks, starting a game, submitting guesses, retrieving session details, and obtaining a leaderboard. The code manages game sessions, guesses, and feedback, utilizing serializers, models, and transaction handling.", "external_files": ["./models", "./serializers"], "external_methods": ["compute_letter_feedback", "feedback_to_compact", "GameSession.objects.filter", "Word.objects.filter", "Guess.objects.create", "Guess.objects.count", "session.mark_completed", "session.refresh_from_db", "session.guesses", "GameSession.objects.select_related", "timezone.now"], "published": ["health", "start_game", "submit_guess", "get_session_detail", "get_leaderboard"], "classes": [], "methods": [{"name": "str _session_status(session: GameSession)", "description": "Maps the game session's database flags to a public status string indicating if the game is in progress, won, or lost.", "scope": "", "scopeKind": ""}, {"name": "int _attempts_used(session: GameSession)", "description": "Returns the number of guesses already used in the session.", "scope": "", "scopeKind": ""}, {"name": "int _compute_score(session: GameSession)", "description": "Calculates the score for a session based on attempts used and whether the game is won or lost.", "scope": "", "scopeKind": ""}, {"name": "get_leaderboard(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_session_detail(request, session_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "health(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "start_game(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "submit_guess(request)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["serializers.is_valid", "serializer.validated_data", "Word.objects.filter", "GameSession.objects.create", "Response", "transactions.atomic", "Guess.objects.create", "session.mark_completed", "session.refresh_from_db", "session.guesses.count", "GameSession.objects.select_related", "timezone.now"], "search-terms": ["Django REST Framework", "GameSession", "Guess", "Word", "score", "session", "guess", "feedback", "game endpoints", "start_game", "submit_guess", "session_detail", "leaderboard"], "state": 2, "file_id": 11, "knowledge_revision": 51, "git_revision": "4fcfc9098d6937103236b01e8b1dea8a8897c693", "revision_history": [{"32": "4fcfc9098d6937103236b01e8b1dea8a8897c693"}, {"51": "4fcfc9098d6937103236b01e8b1dea8a8897c693"}], "ctags": [{"_type": "tag", "name": "_attempts_used", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def _attempts_used(session: GameSession) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(session: GameSession)"}, {"_type": "tag", "name": "_compute_score", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def _compute_score(session: GameSession) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(session: GameSession)"}, {"_type": "tag", "name": "_session_status", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def _session_status(session: GameSession) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(session: GameSession)"}, {"_type": "tag", "name": "get_leaderboard", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def get_leaderboard(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "get_session_detail", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def get_session_detail(request, session_id: int):$/", "language": "Python", "kind": "function", "signature": "(request, session_id: int)"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "start_game", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def start_game(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "submit_guess", "path": "/home/kavia/workspace/code-generation/word-guessing-game-platform-256493-256516/backend_api/api/views.py", "pattern": "/^def submit_guess(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}], "hash": "b01cc2fd1088b761a1b5c8f0a8402be9", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/api/views.py"}